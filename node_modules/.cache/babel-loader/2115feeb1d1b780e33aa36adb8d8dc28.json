{"ast":null,"code":"import _classCallCheck from \"/home/scrubboi/Documents/Research/plant-env-monitor/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/scrubboi/Documents/Research/plant-env-monitor/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/scrubboi/Documents/Research/plant-env-monitor/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/scrubboi/Documents/Research/plant-env-monitor/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/scrubboi/Documents/Research/plant-env-monitor/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/scrubboi/Documents/Research/plant-env-monitor/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/scrubboi/Documents/Research/plant-env-monitor/src/components/plant-list.component.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Container from 'react-bootstrap/Container';\nvar Server = \"http://192.168.1.165:1337/\";\n\nvar Plant = function Plant(props) {\n  return React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, props.plant.plant_species), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, props.plant.seed_pot), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, props.plant.sow_date), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, props.plant.stepUp), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, props.plant.condition), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/edit/\" + props.plant._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, \"Edit\")), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: function onClick() {\n      return props.deleteUser(props.plant._id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, \"Remove\")), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }));\n};\n\nvar PlantList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PlantList, _Component);\n\n  function PlantList(props) {\n    var _this;\n\n    _classCallCheck(this, PlantList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PlantList).call(this, props));\n    _this.onChangeSearch = _this.onChangeSearch.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      plants: [],\n      search: 'Search'\n    };\n    return _this;\n  }\n\n  _createClass(PlantList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var serverLocation = Server + 'nursery/plants';\n      axios.get(serverLocation).then(function (res) {\n        _this2.setState({\n          plants: res.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"onChangeSearch\",\n    value: function onChangeSearch(e) {\n      this.setState({\n        search: e.target.value\n      });\n    } // handleDelete= () => {\n    //   axios.post('http://localhost/trays/remove'+this.props.match.params.id)\n    //     .then(res => console.log(res.data));\n    // };\n\n  }, {\n    key: \"plant_List\",\n    value: function plant_List() {\n      // how can i make this into components\n      var lastPlant = {\n        plant_species: '',\n        seed_pot: '',\n        sow_date: '',\n        stepUp: '',\n        repeat: 1,\n        condition: ''\n      };\n      return this.state.plants.map(function (currentPlant, plant) {\n        var deleteUser = function deleteUser(thisPlant) {\n          axios.delete(Server + 'plants/remove/' + thisPlant).then(console.log(\"Plant had be removed\")).catch(function (error) {\n            console.log(error);\n          });\n        };\n\n        var plus = lastPlant.repeat;\n        console.log(lastPlant.repeat);\n        console.log(plus);\n\n        if (lastPlant.plant_species === currentPlant.plant_species) {\n          plus = plus + 1;\n          console.log(plus);\n          console.log(lastPlant.plant_species);\n          console.log(currentPlant.plant_species + '||');\n          lastPlant = {\n            repeat: plus\n          };\n        } else {\n          lastPlant = {\n            repeat: 1\n          };\n        }\n\n        lastPlant = {\n          plant_species: currentPlant.plant_species,\n          seed_pot: currentPlant.seed_pot,\n          sow_date: currentPlant.sow_date,\n          stepUp: currentPlant.stepUp,\n          condition: currentPlant.condition,\n          repeat: lastPlant.repeat\n        };\n        return React.createElement(Plant, {\n          deleteUser: deleteUser,\n          plant: currentPlant,\n          key: plant._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // make it so rerend after submit hit in create\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Plant List\"), React.createElement(\"table\", {\n        className: \"table table-striped\",\n        style: {\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Plant Species\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Seeds/Pot\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Sowing date\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Stepped Up\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Condition\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, this.plant_List())), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return PlantList;\n}(Component);\n\nexport { PlantList as default };","map":{"version":3,"sources":["/home/scrubboi/Documents/Research/plant-env-monitor/src/components/plant-list.component.js"],"names":["React","Component","BrowserRouter","Router","Route","Link","axios","Col","Row","Container","Server","Plant","props","plant","plant_species","seed_pot","sow_date","stepUp","condition","_id","deleteUser","PlantList","onChangeSearch","bind","state","plants","search","serverLocation","get","then","res","setState","data","catch","error","console","log","e","target","value","lastPlant","repeat","map","currentPlant","thisPlant","delete","plus","marginTop","plant_List"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport axios from 'axios';\n\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Container from 'react-bootstrap/Container';\n\n\nconst Server = \"http://192.168.1.165:1337/\";\n\nvar Plant = props => (\n  <tr>\n    <td>{props.plant.plant_species}</td>\n    <td>{props.plant.seed_pot}</td>\n    <td>{props.plant.sow_date}</td>\n    <td>{props.plant.stepUp}</td>\n    <td>{props.plant.condition}</td>\n    <td><Link to={\"/edit/\" + props.plant._id}>Edit</Link></td>\n    <td><button onClick={() => props.deleteUser(props.plant._id)}>Remove</button></td>\n    <td></td>\n  </tr>\n)\n\nexport default class PlantList extends Component {\n  constructor(props) {\n    super(props);\n      this.onChangeSearch = this.onChangeSearch.bind(this);\n      this.state = {\n        plants: [],\n        search: 'Search'\n      };\n  }\n\n  componentDidMount() {\n    var serverLocation = Server + 'nursery/plants';\n    axios.get(serverLocation)\n      .then(res => {\n        this.setState({ plants: res.data });\n      })\n      .catch(function (error){\n        console.log(error);\n      });\n  }\n\n  onChangeSearch(e) {\n    this.setState({\n      search: e.target.value\n    });\n  }\n\n\n  // handleDelete= () => {\n  //   axios.post('http://localhost/trays/remove'+this.props.match.params.id)\n  //     .then(res => console.log(res.data));\n  // };\n\n  plant_List() {\n    // how can i make this into components\n    var lastPlant = {\n      plant_species: '',\n      seed_pot: '',\n      sow_date: '',\n      stepUp: '',\n      repeat: 1,\n      condition: ''\n    }\n    return this.state.plants.map(function(currentPlant, plant) {\n\n      var deleteUser = (thisPlant) => {\n        axios.delete(Server + 'plants/remove/' + thisPlant)\n          .then(console.log(\"Plant had be removed\"))\n          .catch(function (error){\n            console.log(error);\n          })\n      }\n      var plus = lastPlant.repeat;\n      console.log(lastPlant.repeat);\n      console.log(plus);\n\n\n\n      if(lastPlant.plant_species === currentPlant.plant_species){\n        plus = plus + 1;\n        console.log(plus);\n        console.log(lastPlant.plant_species);\n        console.log(currentPlant.plant_species + '||');\n        lastPlant = {\n          repeat: plus\n        }\n      }\n      else {\n        lastPlant = {\n          repeat: 1\n        }\n      }\n\n        lastPlant = {\n          plant_species: currentPlant.plant_species,\n          seed_pot: currentPlant.seed_pot,\n          sow_date: currentPlant.sow_date,\n          stepUp: currentPlant.stepUp,\n          condition: currentPlant.condition,\n          repeat: lastPlant.repeat\n        }\n\n      return <Plant deleteUser={deleteUser} plant={currentPlant} key={plant._id} />\n    })\n  }\n\n  render() {\n    // make it so rerend after submit hit in create\n    return (\n\n      <Container>\n      <Row>\n      <Col>\n        <h3 >Plant List</h3>\n        <table className=\"table table-striped\" style={{ marginTop: 20 }} >\n          <thead>\n            <tr>\n              <th>Plant Species</th>\n              <th>Seeds/Pot</th>\n              <th>Sowing date</th>\n              <th>Stepped Up</th>\n              <th>Condition</th>\n              <th></th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            { this.plant_List() }\n          </tbody>\n        </table>\n        <br/>\n      </Col>\n      </Row>\n      </Container>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}